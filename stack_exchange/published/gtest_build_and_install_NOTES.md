<!--
GS
11 Mar. 2023

Answer here, here, and here:
1. https://stackoverflow.com/q/13513905/4561887
1. [my Q] https://stackoverflow.com/q/72108314/4561887
1. [my Q] https://stackoverflow.com/q/75710217/4561887

-->


1. https://stackoverflow.com/a/13513907/4561887
1. https://stackoverflow.com/a/41954177/4561887
1. 


```bash
sudo apt update
sudo apt install cmake

time git clone https://github.com/google/googletest.git
cd googletest        # Main directory of the cloned repository.
mkdir build          # Create a directory to hold the build output.
cd build
time cmake ..        # Generate native make build scripts for GoogleTest.

time make            # Run those makefiles just autogenerated by cmake above.

# sudo make install # ??????


# manually install the libraries and header files

# give access to g++ flags `-lgtest`, `-lgtest_main`, `-lgmock`, and `-lgmock_main`.
sudo cp -i -t /usr/local/lib lib/libgtest.a lib/libgtest_main.a lib/libgmock.a lib/libgmock_main.a  # the .a static library files
# give access to include `<gtest/gmock.h>` `<gtest/gtest.h>`, `<gtest/gtest_prod.h>`, etc.
sudo cp -a ../googletest/include/gtest /usr/local/include  # gtest header file includes
sudo cp -a ../googlemock/include/gmock /usr/local/include  # gmock header file includes

time g++ -Wall -Wextra -Werror -O3 -std=c++17 -pthread  googletest/googletest/samples/sample1_unittest.cc     googletest/googletest/samples/sample1.cc     -lgtest -lgtest_main     -o bin/a      && time bin/a


# uninstall it
sudo rm /usr/local/lib/libgtest.a /usr/local/lib/libgtest_main.a /usr/local/lib/libgmock.a /usr/local/lib/libgmock_main.a
sudo rm -r /usr/local/include/gtest /usr/local/include/gmock

# automatically install them instead!
sudo make install  # installs into /usr/local/lib and /usr/local/include
```


Without header files installed, you'll see failures to include:
```
eRCaGuy_hello_world/cpp$ time g++ -Wall -Wextra -Werror -O3 -std=c++17 -pthread  googletest/googletest/samples/sample1_unittest.cc     googletest/googletest/samples/sample1.cc     -lgtest -lgtest_main     -o bin/a      && time bin/a
googletest/googletest/samples/sample1_unittest.cc:46:10: fatal error: gtest/gtest.h: No such file or directory
   46 | #include "gtest/gtest.h"
      |          ^~~~~~~~~~~~~~~
compilation terminated.

real    0m0.046s
user    0m0.039s
sys 0m0.007s

```

Without libraries installed, you'll see failures to link via the `ld` linker:
```
eRCaGuy_hello_world/cpp$ time g++ -Wall -Wextra -Werror -O3 -std=c++17 -pthread  googletest/googletest/samples/sample1_unittest.cc     googletest/googletest/samples/sample1.cc     -lgtest -lgtest_main     -o bin/a      && time bin/a
/usr/bin/ld: cannot find -lgtest
/usr/bin/ld: cannot find -lgtest_main
collect2: error: ld returned 1 exit status

real    0m1.895s
user    0m1.776s
sys 0m0.119s
```

```bash
googletest/build$ sudo make install
[ 25%] Built target gtest
[ 50%] Built target gmock
[ 75%] Built target gmock_main
[100%] Built target gtest_main
Install the project...
-- Install configuration: ""
-- Up-to-date: /usr/local/include
-- Installing: /usr/local/include/gmock
-- Installing: /usr/local/include/gmock/gmock.h
-- Installing: /usr/local/include/gmock/gmock-actions.h
-- Installing: /usr/local/include/gmock/gmock-more-matchers.h
-- Installing: /usr/local/include/gmock/gmock-spec-builders.h
-- Installing: /usr/local/include/gmock/gmock-function-mocker.h
-- Installing: /usr/local/include/gmock/internal
-- Installing: /usr/local/include/gmock/internal/gmock-pp.h
-- Installing: /usr/local/include/gmock/internal/gmock-internal-utils.h
-- Installing: /usr/local/include/gmock/internal/gmock-port.h
-- Installing: /usr/local/include/gmock/internal/custom
-- Installing: /usr/local/include/gmock/internal/custom/gmock-port.h
-- Installing: /usr/local/include/gmock/internal/custom/gmock-matchers.h
-- Installing: /usr/local/include/gmock/internal/custom/gmock-generated-actions.h
-- Installing: /usr/local/include/gmock/internal/custom/README.md
-- Installing: /usr/local/include/gmock/gmock-cardinalities.h
-- Installing: /usr/local/include/gmock/gmock-more-actions.h
-- Installing: /usr/local/include/gmock/gmock-matchers.h
-- Installing: /usr/local/include/gmock/gmock-nice-strict.h
-- Installing: /usr/local/lib/libgmock.a
-- Installing: /usr/local/lib/libgmock_main.a
-- Installing: /usr/local/lib/pkgconfig/gmock.pc
-- Installing: /usr/local/lib/pkgconfig/gmock_main.pc
-- Installing: /usr/local/lib/cmake/GTest/GTestTargets.cmake
-- Installing: /usr/local/lib/cmake/GTest/GTestTargets-noconfig.cmake
-- Installing: /usr/local/lib/cmake/GTest/GTestConfigVersion.cmake
-- Installing: /usr/local/lib/cmake/GTest/GTestConfig.cmake
-- Up-to-date: /usr/local/include
-- Installing: /usr/local/include/gtest
-- Installing: /usr/local/include/gtest/gtest-param-test.h
-- Installing: /usr/local/include/gtest/gtest-printers.h
-- Installing: /usr/local/include/gtest/gtest-test-part.h
-- Installing: /usr/local/include/gtest/internal
-- Installing: /usr/local/include/gtest/internal/gtest-port.h
-- Installing: /usr/local/include/gtest/internal/gtest-death-test-internal.h
-- Installing: /usr/local/include/gtest/internal/gtest-filepath.h
-- Installing: /usr/local/include/gtest/internal/custom
-- Installing: /usr/local/include/gtest/internal/custom/gtest-printers.h
-- Installing: /usr/local/include/gtest/internal/custom/gtest-port.h
-- Installing: /usr/local/include/gtest/internal/custom/gtest.h
-- Installing: /usr/local/include/gtest/internal/custom/README.md
-- Installing: /usr/local/include/gtest/internal/gtest-string.h
-- Installing: /usr/local/include/gtest/internal/gtest-type-util.h
-- Installing: /usr/local/include/gtest/internal/gtest-param-util.h
-- Installing: /usr/local/include/gtest/internal/gtest-port-arch.h
-- Installing: /usr/local/include/gtest/internal/gtest-internal.h
-- Installing: /usr/local/include/gtest/gtest_pred_impl.h
-- Installing: /usr/local/include/gtest/gtest-assertion-result.h
-- Installing: /usr/local/include/gtest/gtest-typed-test.h
-- Installing: /usr/local/include/gtest/gtest-spi.h
-- Installing: /usr/local/include/gtest/gtest_prod.h
-- Installing: /usr/local/include/gtest/gtest.h
-- Installing: /usr/local/include/gtest/gtest-message.h
-- Installing: /usr/local/include/gtest/gtest-death-test.h
-- Installing: /usr/local/include/gtest/gtest-matchers.h
-- Installing: /usr/local/lib/libgtest.a
-- Installing: /usr/local/lib/libgtest_main.a
-- Installing: /usr/local/lib/pkgconfig/gtest.pc
-- Installing: /usr/local/lib/pkgconfig/gtest_main.pc
```

To remove/uninstall what `sudo make install` did:
```bash
# main libraries
sudo rm /usr/local/lib/libgtest.a \
        /usr/local/lib/libgtest_main.a \
        /usr/local/lib/libgmock.a \
        /usr/local/lib/libgmock_main.a

# includes
sudo rm -r /usr/local/include/gtest \
           /usr/local/include/gmock

# extras

# package config
sudo rm /usr/local/lib/pkgconfig/gtest.pc \
        /usr/local/lib/pkgconfig/gtest_main.pc \
        /usr/local/lib/pkgconfig/gmock.pc \
        /usr/local/lib/pkgconfig/gmock_main.pc

# cmake GTest
sudo rm -r /usr/local/lib/cmake/GTest
```

`/usr/local/lib/libgtest.a` *must* be named that! If you call it `/usr/local/lib/lgtest.a`, for instance, then `-lgtest` no longer works!:

```bash
$ sudo mv /usr/local/lib/libgtest.a /usr/local/lib/lgtest.a


eRCaGuy_hello_world/cpp$ time g++ -Wall -Wextra -Werror -O3 -std=c++17 -pthread  googletest/googletest/samples/sample1_unittest.cc     googletest/googletest/samples/sample1.cc     -lgtest -lgtest_main     -o bin/a      && time bin/a
/usr/bin/ld: cannot find -lgtest
collect2: error: ld returned 1 exit status

real    0m2.118s
user    0m2.027s
sys 0m0.090s
```

If you call it `libgtestt.a`, then you must use `-lgtestt`.

The linker naming convention for libraries, whether static .a or dynamic .so, seems to **require** that the library file name *must* be prefixed with `lib`!



